{"remainingRequest":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\@jiaminghi\\data-view\\lib\\components\\waterLevelPond\\src\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\@jiaminghi\\data-view\\lib\\components\\waterLevelPond\\src\\main.vue","mtime":1713594891423},{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713594892227},{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\babel-loader\\lib\\index.js","mtime":1713594892054},{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713594892227},{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\vue-loader\\lib\\index.js","mtime":1713594897967}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyB1dWlkIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9pbmRleCcNCg0KaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSAnQGppYW1pbmdoaS9jaGFydHMvbGliL3V0aWwvaW5kZXgnDQoNCmltcG9ydCB7IGRlZXBDbG9uZSB9IGZyb20gJ0BqaWFtaW5naGkvYy1yZW5kZXIvbGliL3BsdWdpbi91dGlsJw0KDQppbXBvcnQgQ1JlbmRlciBmcm9tICdAamlhbWluZ2hpL2MtcmVuZGVyJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdEdldhdGVyTGV2ZWxQb25kJywNCiAgcHJvcHM6IHsNCiAgICBjb25maWc6IE9iamVjdCwNCiAgICBkZWZhdWx0OiAoKSA9PiAoe30pDQogIH0sDQogIGRhdGEgKCkgew0KICAgIGNvbnN0IGlkID0gdXVpZCgpDQogICAgcmV0dXJuIHsNCiAgICAgIGdyYWRpZW50SWQ6IGB3YXRlci1sZXZlbC1wb25kLSR7aWR9YCwNCg0KICAgICAgZGVmYXVsdENvbmZpZzogew0KICAgICAgICAvKioNCiAgICAgICAgICogQGRlc2NyaXB0aW9uIERhdGENCiAgICAgICAgICogQHR5cGUge0FycmF5PE51bWJlcj59DQogICAgICAgICAqIEBkZWZhdWx0IGRhdGEgPSBbXQ0KICAgICAgICAgKiBAZXhhbXBsZSBkYXRhID0gWzYwLCA0MF0NCiAgICAgICAgICovDQogICAgICAgIGRhdGE6IFtdLA0KICAgICAgICAvKioNCiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNoYXBlIG9mIHdhbnRlciBsZXZlbCBwb25kDQogICAgICAgICAqIEB0eXBlIHtTdHJpbmd9DQogICAgICAgICAqIEBkZWZhdWx0IHNoYXBlID0gJ3JlY3QnDQogICAgICAgICAqIEBleGFtcGxlIHNoYXBlID0gJ3JlY3QnIHwgJ3JvdW5kUmVjdCcgfCAncm91bmQnDQogICAgICAgICAqLw0KICAgICAgICBzaGFwZTogJ3JlY3QnLA0KICAgICAgICAvKioNCiAgICAgICAgICogQGRlc2NyaXB0aW9uIFdhdGVyIHdhdmUgbnVtYmVyDQogICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9DQogICAgICAgICAqIEBkZWZhdWx0IHdhdmVOdW0gPSAzDQogICAgICAgICAqLw0KICAgICAgICB3YXZlTnVtOiAzLA0KICAgICAgICAvKioNCiAgICAgICAgICogQGRlc2NyaXB0aW9uIFdhdGVyIHdhdmUgaGVpZ2h0IChweCkNCiAgICAgICAgICogQHR5cGUge051bWJlcn0NCiAgICAgICAgICogQGRlZmF1bHQgd2F2ZUhlaWdodCA9IDQwDQogICAgICAgICAqLw0KICAgICAgICB3YXZlSGVpZ2h0OiA0MCwNCiAgICAgICAgLyoqDQogICAgICAgICAqIEBkZXNjcmlwdGlvbiBXYXZlIG9wYWNpdHkNCiAgICAgICAgICogQHR5cGUge051bWJlcn0NCiAgICAgICAgICogQGRlZmF1bHQgd2F2ZU9wYWNpdHkgPSAwLjQNCiAgICAgICAgICovDQogICAgICAgIHdhdmVPcGFjaXR5OiAwLjQsDQogICAgICAgIC8qKg0KICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29sb3JzIChoZXh8cmdifHJnYmF8Y29sb3Iga2V5d29yZHMpDQogICAgICAgICAqIEB0eXBlIHtBcnJheTxTdHJpbmc+fQ0KICAgICAgICAgKiBAZGVmYXVsdCBjb2xvcnMgPSBbJyMwMEJBRkYnLCAnIzNERTdDOSddDQogICAgICAgICAqIEBleGFtcGxlIGNvbG9ycyA9IFsnIzAwMCcsICdyZ2IoMCwgMCwgMCknLCAncmdiYSgwLCAwLCAwLCAxKScsICdyZWQnXQ0KICAgICAgICAgKi8NCiAgICAgICAgY29sb3JzOiBbJyMzREU3QzknLCAnIzAwQkFGRiddLA0KICAgICAgICAvKioNCiAgICAgICAgICogQGRlc2NyaXB0aW9uIEZvcm1hdHRlcg0KICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfQ0KICAgICAgICAgKiBAZGVmYXVsdCBmb3JtYXR0ZXIgPSAne3ZhbHVlfSUnDQogICAgICAgICAqLw0KICAgICAgICBmb3JtYXR0ZXI6ICd7dmFsdWV9JScNCiAgICAgIH0sDQoNCiAgICAgIG1lcmdlZENvbmZpZzoge30sDQoNCiAgICAgIHJlbmRlcmVyOiBudWxsLA0KDQogICAgICBzdmdCb3JkZXJHcmFkaWVudDogW10sDQoNCiAgICAgIGRldGFpbHM6ICcnLA0KDQogICAgICB3YXZlczogW10sDQoNCiAgICAgIGFuaW1hdGlvbjogZmFsc2UNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgcmFkaXVzICgpIHsNCiAgICAgIGNvbnN0IHsgc2hhcGUgfSA9IHRoaXMubWVyZ2VkQ29uZmlnDQoNCiAgICAgIGlmIChzaGFwZSA9PT0gJ3JvdW5kJykgcmV0dXJuICc1MCUnDQoNCiAgICAgIGlmIChzaGFwZSA9PT0gJ3JlY3QnKSByZXR1cm4gJzAnDQoNCiAgICAgIGlmIChzaGFwZSA9PT0gJ3JvdW5kUmVjdCcpIHJldHVybiAnMTBweCcNCg0KICAgICAgcmV0dXJuICcwJw0KICAgIH0sDQogICAgc2hhcGUgKCkgew0KICAgICAgY29uc3QgeyBzaGFwZSB9ID0gdGhpcy5tZXJnZWRDb25maWcNCg0KICAgICAgaWYgKCFzaGFwZSkgcmV0dXJuICdyZWN0Jw0KDQogICAgICByZXR1cm4gc2hhcGUNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgY29uZmlnICgpIHsNCiAgICAgIGNvbnN0IHsgY2FsY0RhdGEsIHJlbmRlcmVyIH0gPSB0aGlzDQoNCiAgICAgIHJlbmRlcmVyLmRlbEFsbEdyYXBoKCkNCg0KICAgICAgdGhpcy53YXZlcyA9IFtdDQoNCiAgICAgIHNldFRpbWVvdXQoY2FsY0RhdGEsIDApDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdCAoKSB7DQogICAgICBjb25zdCB7IGluaXRSZW5kZXIsIGNvbmZpZywgY2FsY0RhdGEgfSA9IHRoaXMNCg0KICAgICAgaW5pdFJlbmRlcigpDQoNCiAgICAgIGlmICghY29uZmlnKSByZXR1cm4NCg0KICAgICAgY2FsY0RhdGEoKQ0KICAgIH0sDQogICAgaW5pdFJlbmRlciAoKSB7DQogICAgICBjb25zdCB7ICRyZWZzIH0gPSB0aGlzDQoNCiAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgQ1JlbmRlcigkcmVmc1snd2F0ZXItcG9uZC1sZXZlbCddKQ0KICAgIH0sDQogICAgY2FsY0RhdGEgKCkgew0KICAgICAgY29uc3QgeyBtZXJnZUNvbmZpZywgY2FsY1N2Z0JvcmRlckdyYWRpZW50LCBjYWxjRGV0YWlscyB9ID0gdGhpcw0KDQogICAgICBtZXJnZUNvbmZpZygpDQoNCiAgICAgIGNhbGNTdmdCb3JkZXJHcmFkaWVudCgpDQoNCiAgICAgIGNhbGNEZXRhaWxzKCkNCg0KICAgICAgY29uc3QgeyBhZGRXYXZlLCBhbmltYXRpb25XYXZlIH0gPSB0aGlzDQoNCiAgICAgIGFkZFdhdmUoKQ0KDQogICAgICBhbmltYXRpb25XYXZlKCkNCiAgICB9LA0KICAgIG1lcmdlQ29uZmlnICgpIHsNCiAgICAgIGNvbnN0IHsgY29uZmlnLCBkZWZhdWx0Q29uZmlnIH0gPSB0aGlzDQoNCiAgICAgIHRoaXMubWVyZ2VkQ29uZmlnID0gZGVlcE1lcmdlKGRlZXBDbG9uZShkZWZhdWx0Q29uZmlnLCB0cnVlKSwgY29uZmlnKQ0KICAgIH0sDQogICAgY2FsY1N2Z0JvcmRlckdyYWRpZW50ICgpIHsNCiAgICAgIGNvbnN0IHsgY29sb3JzIH0gPSB0aGlzLm1lcmdlZENvbmZpZw0KDQogICAgICBjb25zdCBjb2xvck51bSA9IGNvbG9ycy5sZW5ndGgNCg0KICAgICAgY29uc3QgY29sb3JPZmZzZXRHYXAgPSAxMDAgLyAoY29sb3JOdW0gLSAxKQ0KDQogICAgICB0aGlzLnN2Z0JvcmRlckdyYWRpZW50ID0gY29sb3JzLm1hcCgoYywgaSkgPT4gW2NvbG9yT2Zmc2V0R2FwICogaSwgY10pDQogICAgfSwNCiAgICBjYWxjRGV0YWlscyAoKSB7DQogICAgICBjb25zdCB7IGRhdGEsIGZvcm1hdHRlciB9ID0gdGhpcy5tZXJnZWRDb25maWcNCg0KICAgICAgaWYgKCFkYXRhLmxlbmd0aCkgew0KICAgICAgICB0aGlzLmRldGFpbHMgPSAnJw0KDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KDQogICAgICBjb25zdCBtYXhWYWx1ZSA9IE1hdGgubWF4KC4uLmRhdGEpDQoNCiAgICAgIHRoaXMuZGV0YWlscyA9IGZvcm1hdHRlci5yZXBsYWNlKCd7dmFsdWV9JywgbWF4VmFsdWUpDQogICAgfSwNCiAgICBhZGRXYXZlICgpIHsNCiAgICAgIGNvbnN0IHsgcmVuZGVyZXIsIGdldFdhdmVTaGFwZXMsIGdldFdhdmVTdHlsZSwgZHJhd2VkIH0gPSB0aGlzDQoNCiAgICAgIGNvbnN0IHNoYXBlcyA9IGdldFdhdmVTaGFwZXMoKQ0KICAgICAgY29uc3Qgc3R5bGUgPSBnZXRXYXZlU3R5bGUoKQ0KDQogICAgICB0aGlzLndhdmVzID0gc2hhcGVzLm1hcChzaGFwZSA9PiByZW5kZXJlci5hZGQoew0KICAgICAgICBuYW1lOiAnc21vb3RobGluZScsDQogICAgICAgIGFuaW1hdGlvbkZyYW1lOiAzMDAsDQogICAgICAgIHNoYXBlLA0KICAgICAgICBzdHlsZSwNCiAgICAgICAgZHJhd2VkDQogICAgICB9KSkNCiAgICB9LA0KICAgIGdldFdhdmVTaGFwZXMgKCkgew0KICAgICAgY29uc3QgeyBtZXJnZWRDb25maWcsIHJlbmRlcmVyLCBtZXJnZU9mZnNldCB9ID0gdGhpcw0KDQogICAgICBjb25zdCB7IHdhdmVOdW0sIHdhdmVIZWlnaHQsIGRhdGEgfSA9IG1lcmdlZENvbmZpZw0KDQogICAgICBjb25zdCBbdywgaF0gPSByZW5kZXJlci5hcmVhDQoNCiAgICAgIGNvbnN0IHBvaW50c051bSA9IHdhdmVOdW0gKiA0ICsgNA0KDQogICAgICBjb25zdCBwb2ludFhHYXAgPSB3IC8gd2F2ZU51bSAvIDINCg0KICAgICAgcmV0dXJuIGRhdGEubWFwKHYgPT4gew0KICAgICAgICBsZXQgcG9pbnRzID0gbmV3IEFycmF5KHBvaW50c051bSkuZmlsbCgwKS5tYXAoKGZvbywgaikgPT4gew0KICAgICAgICAgIGNvbnN0IHggPSB3IC0gcG9pbnRYR2FwICogag0KDQogICAgICAgICAgY29uc3Qgc3RhcnRZID0gKDEgLSB2IC8gMTAwKSAqIGgNCg0KICAgICAgICAgIGNvbnN0IHkgPSBqICUgMiA9PT0gMCA/IHN0YXJ0WSA6IHN0YXJ0WSAtIHdhdmVIZWlnaHQNCg0KICAgICAgICAgIHJldHVybiBbeCwgeV0NCiAgICAgICAgfSkNCg0KICAgICAgICBwb2ludHMgPSBwb2ludHMubWFwKHAgPT4gbWVyZ2VPZmZzZXQocCwgW3BvaW50WEdhcCAqIDIsIDBdKSkNCg0KICAgICAgICByZXR1cm4geyBwb2ludHMgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIG1lcmdlT2Zmc2V0IChbeCwgeV0sIFtveCwgb3ldKSB7DQogICAgICByZXR1cm4gW3ggKyBveCwgeSArIG95XQ0KICAgIH0sDQogICAgZ2V0V2F2ZVN0eWxlICgpIHsNCiAgICAgIGNvbnN0IHsgcmVuZGVyZXIsIG1lcmdlZENvbmZpZyB9ID0gdGhpcw0KDQogICAgICBjb25zdCBoID0gcmVuZGVyZXIuYXJlYVsxXQ0KDQogICAgICByZXR1cm4gew0KICAgICAgICBncmFkaWVudENvbG9yOiBtZXJnZWRDb25maWcuY29sb3JzLA0KICAgICAgICBncmFkaWVudFR5cGU6ICdsaW5lYXInLA0KICAgICAgICBncmFkaWVudFBhcmFtczogWzAsIDAsIDAsIGhdLA0KICAgICAgICBncmFkaWVudFdpdGg6ICdmaWxsJywNCiAgICAgICAgb3BhY2l0eTogbWVyZ2VkQ29uZmlnLndhdmVPcGFjaXR5LA0KICAgICAgICB0cmFuc2xhdGU6IFswLCAwXQ0KICAgICAgfQ0KICAgIH0sDQogICAgZHJhd2VkICh7IHNoYXBlOiB7IHBvaW50cyB9IH0sIHsgY3R4LCBhcmVhIH0pIHsNCiAgICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBwb2ludHNbMF0NCiAgICAgIGNvbnN0IGxhc3RQb2ludCA9IHBvaW50cy5zbGljZSgtMSlbMF0NCg0KICAgICAgY29uc3QgaCA9IGFyZWFbMV0NCg0KICAgICAgY3R4LmxpbmVUbyhsYXN0UG9pbnRbMF0sIGgpDQogICAgICBjdHgubGluZVRvKGZpcnN0UG9pbnRbMF0sIGgpDQoNCiAgICAgIGN0eC5jbG9zZVBhdGgoKQ0KDQogICAgICBjdHguZmlsbCgpDQogICAgfSwNCiAgICBhc3luYyBhbmltYXRpb25XYXZlIChyZXBlYXQgPSAxKSB7DQogICAgICBjb25zdCB7IHdhdmVzLCByZW5kZXJlciwgYW5pbWF0aW9uIH0gPSB0aGlzDQoNCiAgICAgIGlmIChhbmltYXRpb24pIHJldHVybg0KDQogICAgICB0aGlzLmFuaW1hdGlvbiA9IHRydWUNCg0KICAgICAgY29uc3QgdyA9IHJlbmRlcmVyLmFyZWFbMF0NCg0KICAgICAgd2F2ZXMuZm9yRWFjaChncmFwaCA9PiB7DQogICAgICAgIGdyYXBoLmF0dHIoJ3N0eWxlJywgeyB0cmFuc2xhdGU6IFswLCAwXSB9KQ0KDQogICAgICAgIGdyYXBoLmFuaW1hdGlvbignc3R5bGUnLCB7DQogICAgICAgICAgdHJhbnNsYXRlOiBbdywgMF0NCiAgICAgICAgfSwgdHJ1ZSkNCiAgICAgIH0pDQoNCiAgICAgIGF3YWl0IHJlbmRlcmVyLmxhdW5jaEFuaW1hdGlvbigpDQoNCiAgICAgIHRoaXMuYW5pbWF0aW9uID0gZmFsc2UNCg0KICAgICAgaWYgKCFyZW5kZXJlci5ncmFwaHMubGVuZ3RoKSByZXR1cm4NCg0KICAgICAgdGhpcy5hbmltYXRpb25XYXZlKHJlcGVhdCArIDEpDQogICAgfQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICBjb25zdCB7IGluaXQgfSA9IHRoaXMNCg0KICAgIGluaXQoKQ0KICB9LA0KICBiZWZvcmVEZXN0cm95ICgpIHsNCiAgICBjb25zdCB7IHJlbmRlcmVyIH0gPSB0aGlzDQoNCiAgICByZW5kZXJlci5kZWxBbGxHcmFwaCgpDQoNCiAgICB0aGlzLndhdmVzID0gW10NCiAgfQ0KfQ0K"},{"version":3,"sources":["main.vue"],"names":[],"mappings":";AA0CA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA","file":"main.vue","sourceRoot":"node_modules/@jiaminghi/data-view/lib/components/waterLevelPond/src","sourcesContent":["<template>\r\n  <div class=\"dv-water-pond-level\">\r\n    <svg v-if=\"renderer\">\r\n      <defs>\r\n        <linearGradient :id=\"gradientId\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n          <stop v-for=\"lc in svgBorderGradient\" :key=\"lc[0]\"\r\n            :offset=\"lc[0]\"\r\n            :stop-color=\"lc[1]\" />\r\n        </linearGradient>\r\n      </defs>\r\n\r\n      <text\r\n        v-if=\"renderer\"\r\n        :stroke=\"`url(#${gradientId})`\"\r\n        :fill=\"`url(#${gradientId})`\"\r\n        :x=\"renderer.area[0] / 2 + 8\"\r\n        :y=\"renderer.area[1] / 2 + 8\"\r\n      >\r\n        {{ details }}\r\n      </text>\r\n\r\n      <ellipse v-if=\"!shape || shape === 'round'\"\r\n        :cx=\"renderer.area[0] / 2 + 8\"\r\n        :cy=\"renderer.area[1] / 2 + 8\"\r\n        :rx=\"renderer.area[0] / 2 + 5\"\r\n        :ry=\"renderer.area[1] / 2 + 5\"\r\n        :stroke=\"`url(#${gradientId})`\" />\r\n\r\n      <rect v-else\r\n        x=\"2\" y=\"2\"\r\n        :rx=\"shape === 'roundRect' ? 10 : 0\"\r\n        :ry=\"shape === 'roundRect' ? 10 : 0\"\r\n        :width=\"renderer.area[0] + 12\"\r\n        :height=\"renderer.area[1] + 12\"\r\n        :stroke=\"`url(#${gradientId})`\" />\r\n    </svg>\r\n\r\n    <canvas ref=\"water-pond-level\" :style=\"`border-radius: ${radius};`\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { uuid } from '../../../util/index'\r\n\r\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\r\n\r\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\r\n\r\nimport CRender from '@jiaminghi/c-render'\r\n\r\nexport default {\r\n  name: 'DvWaterLevelPond',\r\n  props: {\r\n    config: Object,\r\n    default: () => ({})\r\n  },\r\n  data () {\r\n    const id = uuid()\r\n    return {\r\n      gradientId: `water-level-pond-${id}`,\r\n\r\n      defaultConfig: {\r\n        /**\r\n         * @description Data\r\n         * @type {Array<Number>}\r\n         * @default data = []\r\n         * @example data = [60, 40]\r\n         */\r\n        data: [],\r\n        /**\r\n         * @description Shape of wanter level pond\r\n         * @type {String}\r\n         * @default shape = 'rect'\r\n         * @example shape = 'rect' | 'roundRect' | 'round'\r\n         */\r\n        shape: 'rect',\r\n        /**\r\n         * @description Water wave number\r\n         * @type {Number}\r\n         * @default waveNum = 3\r\n         */\r\n        waveNum: 3,\r\n        /**\r\n         * @description Water wave height (px)\r\n         * @type {Number}\r\n         * @default waveHeight = 40\r\n         */\r\n        waveHeight: 40,\r\n        /**\r\n         * @description Wave opacity\r\n         * @type {Number}\r\n         * @default waveOpacity = 0.4\r\n         */\r\n        waveOpacity: 0.4,\r\n        /**\r\n         * @description Colors (hex|rgb|rgba|color keywords)\r\n         * @type {Array<String>}\r\n         * @default colors = ['#00BAFF', '#3DE7C9']\r\n         * @example colors = ['#000', 'rgb(0, 0, 0)', 'rgba(0, 0, 0, 1)', 'red']\r\n         */\r\n        colors: ['#3DE7C9', '#00BAFF'],\r\n        /**\r\n         * @description Formatter\r\n         * @type {String}\r\n         * @default formatter = '{value}%'\r\n         */\r\n        formatter: '{value}%'\r\n      },\r\n\r\n      mergedConfig: {},\r\n\r\n      renderer: null,\r\n\r\n      svgBorderGradient: [],\r\n\r\n      details: '',\r\n\r\n      waves: [],\r\n\r\n      animation: false\r\n    }\r\n  },\r\n  computed: {\r\n    radius () {\r\n      const { shape } = this.mergedConfig\r\n\r\n      if (shape === 'round') return '50%'\r\n\r\n      if (shape === 'rect') return '0'\r\n\r\n      if (shape === 'roundRect') return '10px'\r\n\r\n      return '0'\r\n    },\r\n    shape () {\r\n      const { shape } = this.mergedConfig\r\n\r\n      if (!shape) return 'rect'\r\n\r\n      return shape\r\n    }\r\n  },\r\n  watch: {\r\n    config () {\r\n      const { calcData, renderer } = this\r\n\r\n      renderer.delAllGraph()\r\n\r\n      this.waves = []\r\n\r\n      setTimeout(calcData, 0)\r\n    }\r\n  },\r\n  methods: {\r\n    init () {\r\n      const { initRender, config, calcData } = this\r\n\r\n      initRender()\r\n\r\n      if (!config) return\r\n\r\n      calcData()\r\n    },\r\n    initRender () {\r\n      const { $refs } = this\r\n\r\n      this.renderer = new CRender($refs['water-pond-level'])\r\n    },\r\n    calcData () {\r\n      const { mergeConfig, calcSvgBorderGradient, calcDetails } = this\r\n\r\n      mergeConfig()\r\n\r\n      calcSvgBorderGradient()\r\n\r\n      calcDetails()\r\n\r\n      const { addWave, animationWave } = this\r\n\r\n      addWave()\r\n\r\n      animationWave()\r\n    },\r\n    mergeConfig () {\r\n      const { config, defaultConfig } = this\r\n\r\n      this.mergedConfig = deepMerge(deepClone(defaultConfig, true), config)\r\n    },\r\n    calcSvgBorderGradient () {\r\n      const { colors } = this.mergedConfig\r\n\r\n      const colorNum = colors.length\r\n\r\n      const colorOffsetGap = 100 / (colorNum - 1)\r\n\r\n      this.svgBorderGradient = colors.map((c, i) => [colorOffsetGap * i, c])\r\n    },\r\n    calcDetails () {\r\n      const { data, formatter } = this.mergedConfig\r\n\r\n      if (!data.length) {\r\n        this.details = ''\r\n\r\n        return\r\n      }\r\n\r\n      const maxValue = Math.max(...data)\r\n\r\n      this.details = formatter.replace('{value}', maxValue)\r\n    },\r\n    addWave () {\r\n      const { renderer, getWaveShapes, getWaveStyle, drawed } = this\r\n\r\n      const shapes = getWaveShapes()\r\n      const style = getWaveStyle()\r\n\r\n      this.waves = shapes.map(shape => renderer.add({\r\n        name: 'smoothline',\r\n        animationFrame: 300,\r\n        shape,\r\n        style,\r\n        drawed\r\n      }))\r\n    },\r\n    getWaveShapes () {\r\n      const { mergedConfig, renderer, mergeOffset } = this\r\n\r\n      const { waveNum, waveHeight, data } = mergedConfig\r\n\r\n      const [w, h] = renderer.area\r\n\r\n      const pointsNum = waveNum * 4 + 4\r\n\r\n      const pointXGap = w / waveNum / 2\r\n\r\n      return data.map(v => {\r\n        let points = new Array(pointsNum).fill(0).map((foo, j) => {\r\n          const x = w - pointXGap * j\r\n\r\n          const startY = (1 - v / 100) * h\r\n\r\n          const y = j % 2 === 0 ? startY : startY - waveHeight\r\n\r\n          return [x, y]\r\n        })\r\n\r\n        points = points.map(p => mergeOffset(p, [pointXGap * 2, 0]))\r\n\r\n        return { points }\r\n      })\r\n    },\r\n    mergeOffset ([x, y], [ox, oy]) {\r\n      return [x + ox, y + oy]\r\n    },\r\n    getWaveStyle () {\r\n      const { renderer, mergedConfig } = this\r\n\r\n      const h = renderer.area[1]\r\n\r\n      return {\r\n        gradientColor: mergedConfig.colors,\r\n        gradientType: 'linear',\r\n        gradientParams: [0, 0, 0, h],\r\n        gradientWith: 'fill',\r\n        opacity: mergedConfig.waveOpacity,\r\n        translate: [0, 0]\r\n      }\r\n    },\r\n    drawed ({ shape: { points } }, { ctx, area }) {\r\n      const firstPoint = points[0]\r\n      const lastPoint = points.slice(-1)[0]\r\n\r\n      const h = area[1]\r\n\r\n      ctx.lineTo(lastPoint[0], h)\r\n      ctx.lineTo(firstPoint[0], h)\r\n\r\n      ctx.closePath()\r\n\r\n      ctx.fill()\r\n    },\r\n    async animationWave (repeat = 1) {\r\n      const { waves, renderer, animation } = this\r\n\r\n      if (animation) return\r\n\r\n      this.animation = true\r\n\r\n      const w = renderer.area[0]\r\n\r\n      waves.forEach(graph => {\r\n        graph.attr('style', { translate: [0, 0] })\r\n\r\n        graph.animation('style', {\r\n          translate: [w, 0]\r\n        }, true)\r\n      })\r\n\r\n      await renderer.launchAnimation()\r\n\r\n      this.animation = false\r\n\r\n      if (!renderer.graphs.length) return\r\n\r\n      this.animationWave(repeat + 1)\r\n    }\r\n  },\r\n  mounted () {\r\n    const { init } = this\r\n\r\n    init()\r\n  },\r\n  beforeDestroy () {\r\n    const { renderer } = this\r\n\r\n    renderer.delAllGraph()\r\n\r\n    this.waves = []\r\n  }\r\n}\r\n</script>"]}]}