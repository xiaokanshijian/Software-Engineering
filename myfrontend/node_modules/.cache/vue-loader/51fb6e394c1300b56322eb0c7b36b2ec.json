{"remainingRequest":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\src\\components\\DragVerify.vue?vue&type=style&index=1&id=31b9d67d&lang=css&","dependencies":[{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\src\\components\\DragVerify.vue","mtime":1713689721987},{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\css-loader\\dist\\cjs.js","mtime":1713594893653},{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1713594897967},{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\postcss-loader\\src\\index.js","mtime":1713594896652},{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713594892227},{"path":"E:\\Grade3\\大三下\\软件工程\\大作业\\海洋可视化系统\\front-end-template-1\\node_modules\\vue-loader\\lib\\index.js","mtime":1713594897967}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGV0b3VubG9jayB7DQogIDAlIHsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB2YXIoLS1wd2lkdGgpIDA7DQogIH0NCiAgMTAwJSB7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogdmFyKC0td2lkdGgpIDA7DQogIH0NCn0NCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZXRvdW5sb2NrMiB7DQogIDAlIHsNCiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB2YXIoLS1wd2lkdGgpIDA7DQogIH0NCiAgMTAwJSB7DQogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogdmFyKC0tcHdpZHRoKSAwOw0KICB9DQp9DQo="},{"version":3,"sources":["DragVerify.vue"],"names":[],"mappings":";AA8SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DragVerify.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div\r\n    ref=\"dragVerify\"\r\n    class=\"drag_verify\"\r\n    :style=\"dragVerifyStyle\"\r\n    @mousemove=\"dragMoving\"\r\n    @mouseup=\"dragFinish\"\r\n    @mouseleave=\"dragFinish\"\r\n    @touchmove=\"dragMoving\"\r\n    @touchend=\"dragFinish\"\r\n  >\r\n\r\n    <div\r\n      class=\"dv_progress_bar\"\r\n      :class=\"{goFirst2:isOk}\"\r\n      ref=\"progressBar\"\r\n      :style=\"progressBarStyle\"\r\n    >\r\n\r\n    </div>\r\n    <div\r\n      class=\"dv_text\"\r\n      :style=\"textStyle\"\r\n      ref=\"message\"\r\n    >\r\n      <slot\r\n        name=\"textBefore\"\r\n        v-if=\"$slots.textBefore\"\r\n      ></slot>\r\n      {{message}}\r\n      <slot\r\n        name=\"textAfter\"\r\n        v-if=\"$slots.textAfter\"\r\n      ></slot>\r\n    </div>\r\n\r\n    <div\r\n      class=\"dv_handler dv_handler_bg\"\r\n      :class=\"{goFirst:isOk}\"\r\n      @mousedown=\"dragStart\"\r\n      @touchstart=\"dragStart\"\r\n      ref=\"handler\"\r\n      :style=\"handlerStyle\"\r\n    >\r\n      <i :class=\"handlerIcon\"></i>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"dragVerify\",\r\n  props: {\r\n    isPassing: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 250\r\n    },\r\n    height: {\r\n      type: Number,\r\n      default: 40\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: \"swiping to the right side\"\r\n    },\r\n    successText: {\r\n      type: String,\r\n      default: \"success\"\r\n    },\r\n    background: {\r\n      type: String,\r\n      default: \"#eee\"\r\n    },\r\n    progressBarBg: {\r\n      type: String,\r\n      default: \"#76c61d\"\r\n    },\r\n    completedBg: {\r\n      type: String,\r\n      default: \"#76c61d\"\r\n    },\r\n    circle: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    radius: {\r\n      type: String,\r\n      default: \"4px\"\r\n    },\r\n    handlerIcon: {\r\n      type: String\r\n    },\r\n    successIcon: {\r\n      type: String\r\n    },\r\n    handlerBg: {\r\n      type: String,\r\n      default: \"#fff\"\r\n    },\r\n    textSize: {\r\n      type: String,\r\n      default: \"14px\"\r\n    },\r\n    textColor: {\r\n      type: String,\r\n      default: \"#333\"\r\n    }\r\n  },\r\n  mounted: function() {\r\n    const dragEl = this.$refs.dragVerify;\r\n    dragEl.style.setProperty(\"--textColor\", this.textColor);\r\n    dragEl.style.setProperty(\"--width\", Math.floor(this.width / 2) + \"px\");\r\n    dragEl.style.setProperty(\"--pwidth\", -Math.floor(this.width / 2) + \"px\");\r\n    console.log(this.$slots);\r\n  },\r\n  computed: {\r\n    handlerStyle: function() {\r\n      return {\r\n        width: this.height + \"px\",\r\n        height: this.height + \"px\",\r\n        background: this.handlerBg\r\n      };\r\n    },\r\n    message: function() {\r\n      return this.isPassing ? this.successText : this.text;\r\n    },\r\n    dragVerifyStyle: function() {\r\n      return {\r\n        width: this.width + \"px\",\r\n        height: this.height + \"px\",\r\n        lineHeight: this.height + \"px\",\r\n        background: this.background,\r\n        borderRadius: this.circle ? this.height / 2 + \"px\" : this.radius\r\n      };\r\n    },\r\n    progressBarStyle: function() {\r\n      return {\r\n        background: this.progressBarBg,\r\n        height: this.height + \"px\",\r\n        borderRadius: this.circle\r\n          ? this.height / 2 + \"px 0 0 \" + this.height / 2 + \"px\"\r\n          : this.radius\r\n      };\r\n    },\r\n    textStyle: function() {\r\n      return {\r\n        height: this.height + \"px\",\r\n        width: this.width + \"px\",\r\n        fontSize: this.textSize\r\n      };\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isMoving: false,\r\n      x: 0,\r\n      isOk: false\r\n    };\r\n  },\r\n  methods: {\r\n    dragStart: function(e) {\r\n      if (!this.isPassing) {\r\n        this.isMoving = true;\r\n        this.x = (e.pageX || e.touches[0].pageX)\r\n      }\r\n      this.$emit(\"handlerMove\");\r\n    },\r\n    dragMoving: function(e) {\r\n      if (this.isMoving && !this.isPassing) {\r\n        var _x = (e.pageX || e.touches[0].pageX) - this.x;\r\n        var handler = this.$refs.handler;\r\n        if (_x > 0 && _x <= this.width - this.height) {\r\n          handler.style.left = _x + \"px\";\r\n          this.$refs.progressBar.style.width = _x + this.height / 2 + \"px\";\r\n        } else if (_x > this.width - this.height) {\r\n          handler.style.left = this.width - this.height + \"px\";\r\n          this.$refs.progressBar.style.width =\r\n            this.width - this.height / 2 + \"px\";\r\n          this.passVerify();\r\n        }\r\n      }\r\n    },\r\n    dragFinish: function(e) {\r\n      if (this.isMoving && !this.isPassing) {\r\n        var _x = (e.pageX || e.changedTouches[0].pageX) - this.x;\r\n        if (_x < this.width - this.height) {\r\n          this.isOk = true;\r\n          var that = this;\r\n          setTimeout(function() {\r\n            that.$refs.handler.style.left = \"0\";\r\n            that.$refs.progressBar.style.width = \"0\";\r\n            that.isOk = false;\r\n          }, 500);\r\n          this.$emit(\"passfail\");\r\n        } else {\r\n          var handler = this.$refs.handler;\r\n          handler.style.left = this.width - this.height + \"px\";\r\n          this.$refs.progressBar.style.width =\r\n            this.width - this.height / 2 + \"px\";\r\n          this.passVerify();\r\n        }\r\n        this.isMoving = false;\r\n      }\r\n    },\r\n    passVerify: function() {\r\n      this.$emit(\"update:isPassing\", true);\r\n      this.isMoving = false;\r\n      var handler = this.$refs.handler;\r\n      handler.children[0].className = this.successIcon;\r\n      this.$refs.progressBar.style.background = this.completedBg;\r\n      this.$refs.message.style[\"-webkit-text-fill-color\"] = \"unset\";\r\n      this.$refs.message.style.animation = \"slidetounlock2 3s infinite\";\r\n      this.$refs.message.style.color = \"#fff\";\r\n      this.$emit(\"passcallback\");\r\n    },\r\n    reset: function() {\r\n      const oriData = this.$options.data();\r\n      for (const key in oriData) {\r\n        if (Object.prototype.hasOwnProperty.call(oriData, key)) {\r\n          this[key] = oriData[key]\r\n        }\r\n      }\r\n      var handler = this.$refs.handler;\r\n      var message = this.$refs.message;\r\n      handler.style.left = \"0\";\r\n      this.$refs.progressBar.style.width = \"0\";\r\n      handler.children[0].className = this.handlerIcon;\r\n      message.style[\"-webkit-text-fill-color\"] = \"transparent\";\r\n      message.style.animation = \"slidetounlock 3s infinite\";\r\n      message.style.color = this.background;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.drag_verify {\r\n  position: relative;\r\n  background-color: #e8e8e8;\r\n  text-align: center;\r\n  overflow: hidden;\r\n}\r\n.drag_verify .dv_handler {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  cursor: move;\r\n}\r\n.drag_verify .dv_handler i {\r\n  color: #666;\r\n  padding-left: 0;\r\n  font-size: 16px;\r\n}\r\n.drag_verify .dv_handler .el-icon-circle-check {\r\n  color: #6c6;\r\n  margin-top: 9px;\r\n}\r\n.drag_verify .dv_progress_bar {\r\n  position: absolute;\r\n  height: 34px;\r\n  width: 0px;\r\n}\r\n.drag_verify .dv_text {\r\n  position: absolute;\r\n  top: 0px;\r\n  color: transparent;\r\n  -moz-user-select: none;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  -o-user-select: none;\r\n  -ms-user-select: none;\r\n  background: -webkit-gradient(\r\n    linear,\r\n    left top,\r\n    right top,\r\n    color-stop(0, var(--textColor)),\r\n    color-stop(0.4, var(--textColor)),\r\n    color-stop(0.5, #fff),\r\n    color-stop(0.6, var(--textColor)),\r\n    color-stop(1, var(--textColor))\r\n  );\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  -webkit-text-size-adjust: none;\r\n  animation: slidetounlock 3s infinite;\r\n}\r\n.drag_verify .dv_text * {\r\n  -webkit-text-fill-color: var(--textColor);\r\n}\r\n.goFirst {\r\n  left: 0px !important;\r\n  transition: left 0.5s;\r\n}\r\n.goFirst2 {\r\n  width: 0px !important;\r\n  transition: width 0.5s;\r\n}\r\n</style>\r\n<style>\r\n@-webkit-keyframes slidetounlock {\r\n  0% {\r\n    background-position: var(--pwidth) 0;\r\n  }\r\n  100% {\r\n    background-position: var(--width) 0;\r\n  }\r\n}\r\n@-webkit-keyframes slidetounlock2 {\r\n  0% {\r\n    background-position: var(--pwidth) 0;\r\n  }\r\n  100% {\r\n    background-position: var(--pwidth) 0;\r\n  }\r\n}\r\n</style>"]}]}